local WindUI = loadstring(game:HttpGet("https://pastebin.com/raw/m8P8dLfd"))()

WindUI:AddTheme(
    {
        Name = "Peach Glow Dominant",
        Accent = Color3.fromHex("#474350"),
        Background = Color3.fromHex("#FFFFFF"),
        BackgroundTransparency = 0,
        Outline = Color3.fromHex("#474350"),
        Text = Color3.fromHex("#474350"),
        Placeholder = Color3.fromHex("#474350"),
        Button = Color3.fromHex("#474350"),
        Icon = Color3.fromHex("#474350"),
        Hover = Color3.fromHex("#fafac6"),
        WindowBackground = Color3.fromHex("#FECDAA"),
        WindowShadow = Color3.fromHex("#000000"),
        WindowTopbarTitle = Color3.fromHex("#474350"),
        WindowTopbarAuthor = Color3.fromHex("#474350"),
        WindowTopbarIcon = Color3.fromHex("#474350"),
        WindowTopbarButtonIcon = Color3.fromHex("#474350"),
        TabBackground = Color3.fromHex("#FFFFFF"),
        TabTitle = Color3.fromHex("#474350"),
        TabIcon = Color3.fromHex("#474350"),
        ElementBackground = Color3.fromHex("#f8fff4"),
        ElementTitle = Color3.fromHex("#474350"),
        ElementDesc = Color3.fromHex("#474350"),
        ElementIcon = Color3.fromHex("#474350"),
        PopupBackground = Color3.fromHex("#fcffeb"),
        PopupBackgroundTransparency = 0,
        PopupTitle = Color3.fromHex("#474350"),
        PopupContent = Color3.fromHex("#474350"),
        PopupIcon = Color3.fromHex("#474350"),
        DialogBackground = Color3.fromHex("#fcffeb"),
        DialogBackgroundTransparency = 0,
        DialogTitle = Color3.fromHex("#474350"),
        DialogContent = Color3.fromHex("#474350"),
        DialogIcon = Color3.fromHex("#474350"),
        Toggle = Color3.fromHex("#474350"),
        ToggleBar = Color3.fromHex("#fafac6"),
        Checkbox = Color3.fromHex("#474350"),
        CheckboxIcon = Color3.fromHex("#fafac6"),
        Slider = Color3.fromHex("#474350"),
        SliderThumb = Color3.fromHex("#fafac6")
    }
)

WindUI:AddTheme(
    {
        Name = "Material Nature Light",
        Accent = Color3.fromHex("#4C662B"),
        Background = Color3.fromHex("#F9FAEF"),
        BackgroundTransparency = 0,
        Outline = Color3.fromHex("#75796C"),
        Text = Color3.fromHex("#1A1C16"),
        Placeholder = Color3.fromHex("#44483D"),
        Button = Color3.fromHex("#CDEDA3"),
        Icon = Color3.fromHex("#44483D"),
        Hover = Color3.fromHex("#E1E4D5"),
        WindowBackground = Color3.fromHex("#F9FAEF"),
        WindowShadow = Color3.fromHex("#000000"),
        WindowTopbarTitle = Color3.fromHex("#1A1C16"),
        WindowTopbarAuthor = Color3.fromHex("#44483D"),
        WindowTopbarIcon = Color3.fromHex("#44483D"),
        WindowTopbarButtonIcon = Color3.fromHex("#44483D"),
        TabBackground = Color3.fromHex("#F9FAEF"),
        TabTitle = Color3.fromHex("#1A1C16"),
        TabIcon = Color3.fromHex("#44483D"),
        ElementBackground = Color3.fromHex("#EEEFE3"),
        ElementTitle = Color3.fromHex("#1A1C16"),
        ElementDesc = Color3.fromHex("#44483D"),
        ElementIcon = Color3.fromHex("#44483D"),
        PopupBackground = Color3.fromHex("#EEEFE3"),
        PopupBackgroundTransparency = 0,
        PopupTitle = Color3.fromHex("#1A1C16"),
        PopupContent = Color3.fromHex("#44483D"),
        PopupIcon = Color3.fromHex("#44483D"),
        DialogBackground = Color3.fromHex("#EEEFE3"),
        DialogBackgroundTransparency = 0,
        DialogTitle = Color3.fromHex("#1A1C16"),
        DialogContent = Color3.fromHex("#44483D"),
        DialogIcon = Color3.fromHex("#44483D"),
        Toggle = Color3.fromHex("#4C662B"),
        ToggleBar = Color3.fromHex("#FFFFFF"),
        Checkbox = Color3.fromHex("#4C662B"),
        CheckboxIcon = Color3.fromHex("#FFFFFF"),
        Slider = Color3.fromHex("#4C662B"),
        SliderThumb = Color3.fromHex("#FFFFFF")
    }
)

WindUI:AddTheme(
    {
        Name = "Material Nature Dark",
        Accent = Color3.fromHex("#B1D18A"),
        Background = Color3.fromHex("#12140E"),
        BackgroundTransparency = 0,
        Outline = Color3.fromHex("#8F9285"),
        Text = Color3.fromHex("#E2E3D8"),
        Placeholder = Color3.fromHex("#C5C8BA"),
        Button = Color3.fromHex("#354E16"),
        Icon = Color3.fromHex("#C5C8BA"),
        Hover = Color3.fromHex("#44483D"),
        WindowBackground = Color3.fromHex("#12140E"),
        WindowShadow = Color3.fromHex("#000000"),
        WindowTopbarTitle = Color3.fromHex("#E2E3D8"),
        WindowTopbarAuthor = Color3.fromHex("#C5C8BA"),
        WindowTopbarIcon = Color3.fromHex("#C5C8BA"),
        WindowTopbarButtonIcon = Color3.fromHex("#C5C8BA"),
        TabBackground = Color3.fromHex("#12140E"),
        TabTitle = Color3.fromHex("#E2E3D8"),
        TabIcon = Color3.fromHex("#C5C8BA"),
        ElementBackground = Color3.fromHex("#1E201A"),
        ElementTitle = Color3.fromHex("#E2E3D8"),
        ElementDesc = Color3.fromHex("#C5C8BA"),
        ElementIcon = Color3.fromHex("#C5C8BA"),
        PopupBackground = Color3.fromHex("#1E201A"),
        PopupBackgroundTransparency = 0,
        PopupTitle = Color3.fromHex("#E2E3D8"),
        PopupContent = Color3.fromHex("#C5C8BA"),
        PopupIcon = Color3.fromHex("#C5C8BA"),
        DialogBackground = Color3.fromHex("#1E201A"),
        DialogBackgroundTransparency = 0,
        DialogTitle = Color3.fromHex("#E2E3D8"),
        DialogContent = Color3.fromHex("#C5C8BA"),
        DialogIcon = Color3.fromHex("#C5C8BA"),
        Toggle = Color3.fromHex("#B1D18A"),
        ToggleBar = Color3.fromHex("#1F3701"),
        Checkbox = Color3.fromHex("#B1D18A"),
        CheckboxIcon = Color3.fromHex("#1F3701"),
        Slider = Color3.fromHex("#B1D18A"),
        SliderThumb = Color3.fromHex("#FFFFFF")
    }
)

WindUI:AddTheme(
    {
        Name = "Pacific Dark",
        Accent = Color3.fromHex("#58a4b0"),
        Background = Color3.fromHex("#2b303a"),
        BackgroundTransparency = 0,
        Outline = Color3.fromHex("#bac1b8"),
        Text = Color3.fromHex("#bac1b8"),
        Placeholder = Color3.fromHex("#bac1b8"),
        Button = Color3.fromHex("#0c7c59"),
        Icon = Color3.fromHex("#bac1b8"),
        Hover = Color3.fromHex("#d64933"),
        WindowBackground = Color3.fromHex("#2b303a"),
        WindowShadow = Color3.fromHex("#000000"),
        WindowTopbarTitle = Color3.fromHex("#bac1b8"),
        WindowTopbarAuthor = Color3.fromHex("#bac1b8"),
        WindowTopbarIcon = Color3.fromHex("#bac1b8"),
        WindowTopbarButtonIcon = Color3.fromHex("#bac1b8"),
        TabBackground = Color3.fromHex("#2b303a"),
        TabTitle = Color3.fromHex("#bac1b8"),
        TabIcon = Color3.fromHex("#bac1b8"),
        ElementBackground = Color3.fromHex("#2b303a"),
        ElementTitle = Color3.fromHex("#bac1b8"),
        ElementDesc = Color3.fromHex("#bac1b8"),
        ElementIcon = Color3.fromHex("#bac1b8"),
        PopupBackground = Color3.fromHex("#2b303a"),
        PopupBackgroundTransparency = 0,
        PopupTitle = Color3.fromHex("#bac1b8"),
        PopupContent = Color3.fromHex("#bac1b8"),
        PopupIcon = Color3.fromHex("#bac1b8"),
        DialogBackground = Color3.fromHex("#2b303a"),
        DialogBackgroundTransparency = 0,
        DialogTitle = Color3.fromHex("#bac1b8"),
        DialogContent = Color3.fromHex("#bac1b8"),
        DialogIcon = Color3.fromHex("#bac1b8"),
        Toggle = Color3.fromHex("#58a4b0"),
        ToggleBar = Color3.fromHex("#bac1b8"),
        Checkbox = Color3.fromHex("#58a4b0"),
        CheckboxIcon = Color3.fromHex("#2b303a"),
        Slider = Color3.fromHex("#58a4b0"),
        SliderThumb = Color3.fromHex("#d64933")
    }
)

local Window =
    WindUI:CreateWindow(
    {
        Title = "Catch and Tame: AUTO FARM",
        Icon = "door-open",
        Author = "JumantaraHub v17",
        Theme = "Peach Glow Dominant",
        Folder = "CatchandTame_v17",
        KeySystem = {                                                   
        Note = "Key System. With platoboost.",              
        API = {                                                     
            { -- PlatoBoost
                Type = "platoboost",                                
                ServiceId = 16361, -- service id
                Secret = "4485a80f-25df-4788-b082-5d3f19a932ac", -- platoboost secret
            },                                                      
        },                                                          
    },   
    }
)

Window:EditOpenButton(
    {
        Title = "Open UI",
        Icon = "monitor",
        CornerRadius = UDim.new(0, 16),
        StrokeThickness = 2,
        Color = ColorSequence.new(Color3.fromHex("FF0F7B"), Color3.fromHex("F89B29")),
        OnlyMobile = false,
        Enabled = true,
        Draggable = true
    }
)

local Tab =
    Window:Tab(
    {
        Title = "Main",
        Icon = "bird",
        Locked = false
    }
)

local CollectTab =
    Window:Tab(
    {
        Title = "Auto Collect",
        Icon = "bird",
        Locked = false
    }
)

local SellTab =
    Window:Tab(
    {
        Title = "Auto Sell",
        Icon = "bird",
        Locked = false
    }
)

local BuyTab =
    Window:Tab(
    {
        Title = "Auto Buy Food",
        Icon = "bird",
        Locked = false
    }
)

local FeedTab =
    Window:Tab(
    {
        Title = "Feed",
        Icon = "bird",
        Locked = false
    }
)

local SettingTab =
    Window:Tab(
    {
        Title = "Settings",
        Icon = "bird",
        Locked = false
    }
)

getgenv().SelectRarity = "Legendary"

getgenv().MutationOnly = false

getgenv().AutoCatchEnabled = true

getgenv().DebugMode = false

getgenv().AutoCollectCash = false

getgenv().AutoSell = false

getgenv().SellConfig = {
    ["Common"] = false,
    ["Uncommon"] = false,
    ["Rare"] = false,
    ["Epic"] = false,
    ["Legendary"] = false,
    ["Mythical"] = false
}

getgenv().AutoBuyFood = false

getgenv().SelectedFoodList = {}

getgenv().BuyAmount = 1

getgenv().AutoFeed = false

getgenv().SelectedFeedFood = "Steak"

getgenv().TargetPetUUID = nil

local rarityList = {"Common", "Uncommon", "Rare", "Epic", "Legendary", "Mythical"}

local Remotes = game:GetService("ReplicatedStorage"):WaitForChild("Remotes")

local Players = game:GetService("Players")

local LocalPlayer = Players.LocalPlayer

local foodList = {
    "Farmers Feed",
    "Enriched Feed",
    "Prime Feed",
    "Hay",
    "Bone",
    "Steak"
}

local petMap = {}

local function EquipLasso()
    local backpack = LocalPlayer:FindFirstChild("Backpack")

    local char = LocalPlayer.Character

    if backpack and char then
        local tool = backpack:FindFirstChild("Lasso") or backpack:FindFirstChildWhichIsA("Tool")

        if tool and not char:FindFirstChild(tool.Name) then
            char.Humanoid:EquipTool(tool)

            task.wait(0.3)
        end
    end
end

local function RunCatchProtocol(targetPet)
    if not targetPet or not targetPet.Parent then
        return
    end

    local char = LocalPlayer.Character

    if not char then
        return
    end

    local root = char:FindFirstChild("HumanoidRootPart")

    EquipLasso()

    local petPivot = targetPet:GetPivot()

    local direction = (petPivot.Position - root.Position).Unit

    local distance = (petPivot.Position - root.Position).Magnitude

    if distance > 20 then
        WindUI:Notify({Title = "Failed", Content = "Server distance too far, try again.", Duration = 2})

        return
    end

    pcall(
        function()
            Remotes.ThrowLasso:FireServer(0.9, direction)
        end
    )

    task.wait(0.5)

    local success, err =
        pcall(
        function()
            Remotes.minigameRequest:InvokeServer(targetPet, root.CFrame)
        end
    )

    if not success then
        return
    end

    task.wait(0.2)

    pcall(
        function()
            Remotes.equipLassoVisual:InvokeServer(true)
        end
    )

    local progressSteps = {0, 30, 60, 90, 100}

    for _, prog in ipairs(progressSteps) do
        Remotes.UpdateProgress:FireServer(prog)

        task.wait(0.15)
    end

    pcall(
        function()
            Remotes.retrieveData:InvokeServer()
        end
    )
end

local function StartCandyFarm()
    task.spawn(
        function()
            while getgenv().AutoFarmCandy do
                local folder = workspace:FindFirstChild("RoamingPets") and workspace.RoamingPets:FindFirstChild("Pets")

                local foundTarget = false

                if folder then
                    for _, pet in pairs(folder:GetChildren()) do
                        if not getgenv().AutoFarmCandy then
                            break
                        end

                        local isCandyPet = pet:GetAttribute("CandyMax")

                        if isCandyPet and (pet:IsA("Model") or pet:IsA("BasePart")) then
                            foundTarget = true

                            local p = game.Players.LocalPlayer

                            if p and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                                p.Character.HumanoidRootPart.CFrame = pet:GetPivot()

                                task.wait(0.5)

                                RunCatchProtocol(pet)

                                task.wait(4)
                            end
                        end
                    end
                end

                if not foundTarget and getgenv().AutoFarmCandy then
                    WindUI:Notify({Title = "Waiting for Spawn", Content = "Searching for Candy Pet...", Duration = 1})

                    task.wait(3)
                end

                task.wait(0.5)
            end
        end
    )
end

local function StartRarityFarm()
    task.spawn(
        function()
            while getgenv().AutoFarmRarity do
                local folder = workspace:FindFirstChild("RoamingPets") and workspace.RoamingPets:FindFirstChild("Pets")

                local foundTarget = false

                if folder then
                    for _, pet in pairs(folder:GetChildren()) do
                        if not getgenv().AutoFarmRarity then
                            break
                        end

                        local r = pet:GetAttribute("Rarity")

                        local m = pet:GetAttribute("Mutation")

                        local isTarget = false

                        if getgenv().MutationOnly then
                            if m and m ~= "None" then
                                isTarget = true
                            end
                        elseif r == getgenv().SelectRarity then
                            isTarget = true
                        end

                        if isTarget and (pet:IsA("Model") or pet:IsA("BasePart")) then
                            foundTarget = true

                            local p = game.Players.LocalPlayer

                            if p and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                                p.Character.HumanoidRootPart.CFrame = pet:GetPivot() * CFrame.new(0, 2, 0)

                                task.wait(0.5)

                                RunCatchProtocol(pet)

                                task.wait(4.5)
                            end
                        end
                    end
                end

                if not foundTarget and getgenv().AutoFarmRarity then
                    WindUI:Notify(
                        {Title = "Searching...", Content = "Waiting for spawn " .. getgenv().SelectRarity, Duration = 1}
                    )

                    task.wait(3)
                end

                task.wait(1)
            end
        end
    )
end

local function StartAutoCollect()
    task.spawn(
        function()
            while getgenv().AutoCollectCash do
                local p = game.Players.LocalPlayer

                local pensFolder = workspace:FindFirstChild("PlayerPens")

                local myPen = nil

                if pensFolder then
                    for _, pen in pairs(pensFolder:GetChildren()) do
                        local ownerName = pen:GetAttribute("Owner")

                        if ownerName == p.Name then
                            myPen = pen

                            break
                        end
                    end
                end

                if myPen then
                    local petsFolder = myPen:FindFirstChild("Pets")

                    if petsFolder then
                        for _, pet in pairs(petsFolder:GetChildren()) do
                            if not getgenv().AutoCollectCash then
                                break
                            end

                            pcall(
                                function()
                                    local args = {
                                        [1] = pet.Name
                                    }

                                    game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild(
                                        "collectPetCash"
                                    ):FireServer(unpack(args))
                                end
                            )

                            task.wait(0.05)
                        end
                    end
                end

                task.wait(2)
            end
        end
    )
end

local function StartAutoSell()
    task.spawn(
        function()
            while getgenv().AutoSell do
                local RS = game:GetService("ReplicatedStorage")

                local success, inventory =
                    pcall(
                    function()
                        return RS.Remotes.getPetInventory:InvokeServer()
                    end
                )

                if success and inventory then
                    local soldCount = 0

                    for uuid, data in pairs(inventory) do
                        if not getgenv().AutoSell then
                            break
                        end

                        if data.rarity and getgenv().SellConfig[data.rarity] then
                            if not data.equipped and not data.isEquipped then
                                pcall(
                                    function()
                                        RS.Remotes.sellPet:InvokeServer(uuid, false)
                                    end
                                )

                                soldCount = soldCount + 1

                                task.wait(0.1)
                            end
                        end
                    end
                end

                task.wait(3)
            end
        end
    )
end

local function StartAutoBuy()
    task.spawn(
        function()
            while getgenv().AutoBuyFood do
                local success, err =
                    pcall(
                    function()
                        local RS = game:GetService("ReplicatedStorage")

                        local Packages = RS:WaitForChild("Packages")

                        local Index = Packages:WaitForChild("_Index")

                        local KnitPkg = Index:WaitForChild("sleitnick_knit@1.7.0")

                        local Services = KnitPkg:WaitForChild("knit"):WaitForChild("Services")

                        local BuyRemote =
                            Services:WaitForChild("FoodService"):WaitForChild("RE"):WaitForChild("BuyFood")

                        if BuyRemote then
                            for _, foodName in pairs(getgenv().SelectedFoodList) do
                                if not getgenv().AutoBuyFood then
                                    break
                                end

                                BuyRemote:FireServer(foodName, getgenv().BuyAmount)

                                task.wait(0.2)
                            end
                        end
                    end
                )

                task.wait(1)
            end
        end
    )
end

local function GetMyPen()
    local p = game.Players.LocalPlayer

    local pensFolder = workspace:FindFirstChild("PlayerPens")

    if pensFolder then
        for _, pen in pairs(pensFolder:GetChildren()) do
            if pen:GetAttribute("Owner") == p.Name then
                return pen
            end
        end
    end

    return nil
end

local function UpdatePetList()
    petMap = {}

    local listForDropdown = {}

    local myPen = GetMyPen()

    if myPen then
        local petsFolder = myPen:FindFirstChild("Pets")

        if petsFolder then
            for _, pet in pairs(petsFolder:GetChildren()) do
                local pName = pet:GetAttribute("Name") or "Unknown"

                local pLevel = pet:GetAttribute("Level") or 0

                local displayName = pName .. " (" .. tostring(pLevel) .. ")"

                if petMap[displayName] then
                    displayName = displayName .. " [" .. string.sub(pet.Name, 1, 3) .. "]"
                end

                petMap[displayName] = pet.Name

                table.insert(listForDropdown, displayName)
            end
        end
    end

    table.sort(listForDropdown)

    return listForDropdown
end

local function StartAutoFeed()
    task.spawn(
        function()
            while getgenv().AutoFeed do
                if getgenv().TargetPetUUID then
                    local success, err =
                        pcall(
                        function()
                            local FeedRemote =
                                game:GetService("ReplicatedStorage").Packages._Index["sleitnick_knit@1.7.0"].knit.Services.FoodService.RF.FeedPet

                            FeedRemote:InvokeServer(getgenv().SelectedFeedFood, getgenv().TargetPetUUID)
                        end
                    )
                end

                task.wait(0.2)
            end
        end
    )
end

local Section =
    Tab:Section(
    {
        Title = "Target"
    }
)

Tab:Dropdown(
    {
        Title = "Choose Rarity",
        Values = rarityList,
        Value = "Legendary",
        Multi = false,
        Desc = "RarityDrop",
        Callback = function(Option)
            getgenv().SelectRarity = Option
        end
    }
)

Tab:Toggle(
    {
        Title = "Mutation Only",
        Value = false,
        Callback = function(Val)
            getgenv().MutationOnly = Val
        end
    }
)

Tab:Toggle(
    {
        Title = "Auto Catch (After Teleport)",
        Value = true,
        Callback = function(Val)
            getgenv().AutoCatchEnabled = Val
        end
    }
)

local SectionExecution =
    Tab:Section(
    {
        Title = "Execution"
    }
)

Tab:Toggle(
    {
        Title = "Auto Farm Candy Event (Loop)",
        Value = false,
        Desc = "CandyFarmToggle",
        Callback = function(Value)
            getgenv().AutoFarmCandy = Value

            if Value then
                WindUI:Notify({Title = "Auto Farm Active", Content = "Started hunting Candy Pet...", Duration = 2})

                StartCandyFarm()
            else
                WindUI:Notify({Title = "Auto Farm Stop", Content = "Stopping after current target.", Duration = 2})
            end
        end
    }
)

Tab:Button(
    {
        Title = "Catch 1 Target (Safe Mode)",
        Callback = function()
            WindUI:Notify({Title = "Manual Mode", Content = "Searching for 1 target...", Duration = 2})

            local folder = workspace:FindFirstChild("RoamingPets") and workspace.RoamingPets:FindFirstChild("Pets")

            if not folder then
                return
            end

            local found = false

            for _, pet in pairs(folder:GetChildren()) do
                local r = pet:GetAttribute("Rarity")

                local m = pet:GetAttribute("Mutation")

                local isTarget = false

                if getgenv().MutationOnly then
                    if m and m ~= "None" then
                        isTarget = true
                    end
                elseif r == getgenv().SelectRarity then
                    isTarget = true
                end

                if isTarget and (pet:IsA("Model") or pet:IsA("BasePart")) then
                    found = true

                    local p = game.Players.LocalPlayer

                    if p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                        p.Character.HumanoidRootPart.CFrame = pet:GetPivot() * CFrame.new(0, 5, 5)

                        task.wait(0.5)

                        p.Character.HumanoidRootPart.CFrame = pet:GetPivot()

                        task.wait(1)

                        RunCatchProtocol(pet)

                        WindUI:Notify({Title = "Done", Content = "Target processed.", Duration = 2})
                    end

                    break
                end
            end

            if not found then
                WindUI:Notify({Title = "Empty", Content = "No target found " .. getgenv().SelectRarity, Duration = 2})
            end
        end
    }
)

Tab:Toggle(
    {
        Title = "Auto Farm Selected Rarity (Loop)",
        Value = false,
        Desc = "RarityFarmToggle",
        Callback = function(Value)
            getgenv().AutoFarmRarity = Value

            if Value then
                WindUI:Notify(
                    {Title = "Auto Farm ON", Content = "Searching for all " .. getgenv().SelectRarity, Duration = 2}
                )

                StartRarityFarm()
            else
                WindUI:Notify({Title = "Auto Farm OFF", Content = "Stopping after this target.", Duration = 2})
            end
        end
    }
)

local SectionCollect =
    CollectTab:Section(
    {
        Title = "Farming Features"
    }
)

CollectTab:Toggle(
    {
        Title = "Auto Collect Cash (My Pen)",
        Value = false,
        Desc = "AutoCollectToggle",
        Callback = function(Value)
            getgenv().AutoCollectCash = Value

            if Value then
                WindUI:Notify({Title = "Auto Collect ON", Content = "Collecting cash from your Pen...", Duration = 2})

                StartAutoCollect()
            else
                WindUI:Notify({Title = "Auto Collect OFF", Content = "Stopped collecting cash.", Duration = 2})
            end
        end
    }
)

local SectionConfig =
    SellTab:Section(
    {
        Title = "Select Rarity to Sell"
    }
)

local rarities = {"Common", "Uncommon", "Rare", "Epic", "Legendary", "Mythical"}

for _, rarity in ipairs(rarities) do
    SellTab:Toggle(
        {
            Title = "Sell " .. rarity,
            Value = false,
            Desc = "Sell" .. rarity,
            Callback = function(Value)
                getgenv().SellConfig[rarity] = Value
            end
        }
    )
end

local SectionAction =
    SellTab:Section(
    {
        Title = "Execution"
    }
)

SellTab:Toggle(
    {
        Title = "Enable Auto Sell (Loop)",
        Value = false,
        Desc = "AutoSellMain",
        Callback = function(Value)
            getgenv().AutoSell = Value

            if Value then
                WindUI:Notify({Title = "Auto Sell ON", Content = "Started selling selected pets...", Duration = 2})

                StartAutoSell()
            else
                WindUI:Notify({Title = "Auto Sell OFF", Content = "Stopped selling.", Duration = 2})
            end
        end
    }
)

local SectionBuy =
    BuyTab:Section(
    {
        Title = "Purchase Configuration"
    }
)

BuyTab:Dropdown(
    {
        Title = "Select Food (Multi-select)",
        Values = foodList,
        Value = {"Apple"},
        Multi = true,
        Desc = "FoodDropdownMulti",
        Callback = function(Option)
            getgenv().SelectedFoodList = Option
        end
    }
)

BuyTab:Slider(
    {
        Title = "Amount Per Item",
        Value = {
            Min = 1,
            Max = 100,
            Default = 5
        },
        Step = 1,
        Desc = "BuyAmountSlider",
        Callback = function(Value)
            getgenv().BuyAmount = Value
        end
    }
)

local SectionExec = BuyTab:Section({Title = "Execution"})

BuyTab:Toggle(
    {
        Title = "Auto Buy Food (Loop)",
        Value = false,
        Desc = "AutoBuyToggle",
        Callback = function(Value)
            getgenv().AutoBuyFood = Value

            if Value then
                WindUI:Notify({Title = "Auto Buy ON", Content = "Buying food...", Duration = 2})

                StartAutoBuy()
            else
                WindUI:Notify({Title = "Auto Buy OFF", Content = "Stopped.", Duration = 2})
            end
        end
    }
)

local SectionConfig = FeedTab:Section({Title = "1. Select Food"})

FeedTab:Dropdown(
    {
        Title = "Food Type",
        Values = foodList,
        Value = "Steak",
        Multi = false,
        Desc = "FeedFoodDrop",
        Callback = function(Option)
            local val = (type(Option) == "table" and Option[1]) or Option

            getgenv().SelectedFeedFood = val
        end
    }
)

local SectionTarget = FeedTab:Section({Title = "2. Select Target Pet"})

local PetDropdown =
    FeedTab:Dropdown(
    {
        Title = "Target Pet",
        Values = {"Click Refresh First..."},
        Value = "",
        Multi = false,
        Desc = "TargetPetDrop",
        Callback = function(Option)
            local selectedName = (type(Option) == "table" and Option[1]) or Option

            if petMap[selectedName] then
                local realUUID = petMap[selectedName]

                getgenv().TargetPetUUID = realUUID

                WindUI:Notify({Title = "Target Set", Content = "Pet ID saved.", Duration = 1})
            end
        end
    }
)

FeedTab:Button(
    {
        Title = "Refresh Pet List (Click when changing pet)",
        Callback = function()
            local newList = UpdatePetList()

            PetDropdown:Refresh(newList)

            WindUI:Notify({Title = "Updated", Content = "Pet list updated!", Duration = 1})
        end
    }
)

local SectionExec = FeedTab:Section({Title = "Execution"})

FeedTab:Toggle(
    {
        Title = "Auto Feed Selected Target (Loop)",
        Value = false,
        Desc = "AutoFeedSpecific",
        Callback = function(Value)
            getgenv().AutoFeed = Value

            if Value then
                if getgenv().TargetPetUUID then
                    StartAutoFeed()

                    WindUI:Notify({Title = "Auto Feed ON", Content = "Feeding started...", Duration = 2})
                else
                    WindUI:Notify({Title = "Error", Content = "Select a Pet above first!", Duration = 2})
                end
            end
        end
    }
)

local Keybind =
    SettingTab:Keybind(
    {
        Title = "Keybind",
        Desc = "Keybind to open ui",
        Value = "K",
        Callback = function(v)
            Window:SetToggleKey(Enum.KeyCode[v])
        end
    }
)

local ThemeDropdown =
    SettingTab:Dropdown(
    {
        Title = "Select Theme",
        Desc = "Choose your desired interface theme",
        Values = {
            "Material Nature Dark",
            "Material Nature Light",
            "Pacific Dark",
            "Peach Glow Dominant",
            "Rose",
            "Plant",
            "Red",
            "Indigo",
            "Sky",
            "Violet",
            "Amber",
            "Emerald",
            "Midnight",
            "Crimson",
            "Monokai Pro",
            "Cotton Candy",
            "Rainbow"
        },
        Value = "Material Nature Dark",
        Callback = function(option)
            WindUI:SetTheme(option)
        end
    }
)


